<form [formGroup]="form" class="mt-20 form-big" (submit)="submit(form)">
  <div>
    <mat-form-field *ngIf="name" appearance="outline" class="field-big">
      <mat-label>Name</mat-label>
      <input matInput formControlName="name" type="text"/>
      <div *ngFor="let err of name?.errors | keyvalue">
        <mat-error *ngIf="err.value | IsString">{{ err.value }}</mat-error>
      </div>
    </mat-form-field>
  </div>
  <div>
    <mat-form-field>
      <textarea matInput
        placeholder="Description"
        formControlName="description">
      </textarea>
      <div *ngFor="let err of description?.errors | keyvalue">
        <mat-error *ngIf="err.value | IsString">{{ err.value }}</mat-error>
      </div>
    </mat-form-field>
  </div>
  <div>
    <mat-form-field *ngIf="category" appearance="outline">
      <mat-label>Category</mat-label>
      <input type="text"
             placeholder="Category"
             aria-label="Category"
             matInput
             [formControl]="category"
             [matAutocomplete]="auto">
      <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
        <mat-option [id]="category._id" *ngFor="let category of filteredCategories | async" [value]="category.name" (click)="onSelectCategory($event)">
          {{ category.name }}
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>
  </div>
  <div>
    <mat-form-field *ngIf="price" appearance="outline" class="field-big">
      <mat-label>Price</mat-label>
      <input matInput formControlName="price" type="number"/>
      <div *ngFor="let err of price?.errors | keyvalue">
        <mat-error *ngIf="err.value | IsString">{{ err.value }}</mat-error>
      </div>
    </mat-form-field>
  </div>
  <button mat-stroked-button type="submit">SUBMIT</button>
</form>

<div class="bottom">
  <button color="primary" style="float: left;" mat-fab routerLink="/articles">
    <mat-icon>keyboard_return</mat-icon>
  </button>
</div>
