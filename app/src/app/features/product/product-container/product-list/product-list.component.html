<mat-toolbar>
  Liste des produits
</mat-toolbar>
<form [formGroup]="productSearchForm" class="mt-20 form-big" [style]="search.pristine?'':'display: flex;'">
  <mat-form-field *ngIf="search" appearance="outline" class="field-big">
    <mat-label>Search something cool</mat-label>
    <input matInput formControlName="search" type="text" (change)="onSearchChange($event)" (click)="onClick($event)"/>
    <div *ngFor="let err of search?.errors | keyvalue">
      <mat-error *ngIf="err.value | IsString">{{ err.value }}</mat-error>
    </div>
  </mat-form-field>
</form>
<div class="container">
  <mat-grid-list cols="4">
    <mat-grid-tile *ngFor="let product of products$ | async">
      <mat-card>
        <mat-card-header>
          <mat-card-title>{{product.name}}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <p>{{product.description}}</p><br>
          <mat-chip-list>
            <mat-chip *ngFor="let cat of product.categories" color="primary">#{{cat.name}}</mat-chip>
          </mat-chip-list>
        </mat-card-content>
        <mat-card-actions>
          <button mat-button>ACHETER</button>
          <button mat-button>DETAILS</button>
        </mat-card-actions>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>
</div>

<button mat-fab routerLink="/">
  <mat-icon>keyboard_return</mat-icon>
</button>
