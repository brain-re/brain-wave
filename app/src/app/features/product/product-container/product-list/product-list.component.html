<mat-toolbar>
  Liste des produits
</mat-toolbar>
<form [formGroup]="productSearchForm" class="mt-20 form-big" [style]="search.pristine?'':'display: flex;'">
  <mat-form-field *ngIf="search" appearance="outline" class="field-big">
    <mat-label>Search something cool</mat-label>
    <input matInput formControlName="search" type="text" (change)="onSearchChange($event)" (click)="onClick($event)"/>
    <div *ngFor="let err of search?.errors | keyvalue">
      <mat-error *ngIf="err.value | IsString">{{ err.value }}</mat-error>
    </div>
  </mat-form-field>
</form>
<div class="d-grid">
  <mat-card *ngFor="let product of products$ | async">
    <mat-card-header>
      <mat-card-title style="float: left;">{{product.name}}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <p>{{product.description}}</p><br>
      <mat-chip-list>
        <mat-chip *ngFor="let cat of product.categories" color="primary">#{{cat.name}}</mat-chip>
      </mat-chip-list>
    </mat-card-content>
    <mat-card-actions>
      <button mat-button style="float:right;"><mat-icon>comment</mat-icon></button>
      <button style="float:left;" class="mat-button action">ACHETER</button>
    </mat-card-actions>
  </mat-card>
</div>

<button color="primary" mat-fab class="bottom" routerLink="/">
  <mat-icon>keyboard_return</mat-icon>
</button>
